window.matchMedia=window.matchMedia||function(g,f){var e,d=g.documentElement,a=d.firstElementChild||d.firstChild,b=g.createElement("body"),c=g.createElement("div");c.id="mq-test-1";c.style.cssText="position:absolute;top:-100em";b.style.background="none";b.appendChild(c);return function(h){c.innerHTML='&shy;<style media="'+h+'"> #mq-test-1 { width: 42px; }</style>';d.insertBefore(b,a);e=42==c.offsetWidth;d.removeChild(b);return{matches:e,media:h}}}(document);
(function(){if(!window.matchMedia("").addListener){var g=window.matchMedia;window.matchMedia=function(f){var e=g(f),d=[],a=!1,b,c=function(){var b=g(f),c=!b.matches&&a;if(b.matches&&!a||c)for(var c=0,k=d.length;c<k;c++)d[c].call(e,b);a=b.matches};e.addListener=function(a){d.push(a);b||(b=setInterval(c,1E3))};e.removeListener=function(a){for(var c=0,f=d.length;c<f;c++)d[c]===a&&d.splice(c,1);!d.length&&b&&clearInterval(b)};return e}}})();void 0===window.console&&(console={log:function(){}});
(function(g){function f(a,b,c){a=window.getComputedStyle(a)[b];return!0===c?+parseFloat(a)||0:a}var e=document,d=d||{},d={name:"mob.js",version:"0.61",defaults:{requestType:"%fx%w.%e",autoStart:!0,autoReload:!0,retinaSupport:!1,offsetHeight:100,offsetWidth:100,minHeight:200,minWidth:200,lazyLoad:!0,alterImg:"data:image/gif;base64,R0lGODlhEAAKAIAAAAAAAP///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4zLWMwMTEgNjYuMTQ1NjYxLCAyMDEyLzAyLzA2LTE0OjU2OjI3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjA0OEUxMDc5QTQ1OTExRTJCRTlEOTI4OUI5NzlDNjhEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjA0OEUxMDdBQTQ1OTExRTJCRTlEOTI4OUI5NzlDNjhEIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDQ4RTEwNzdBNDU5MTFFMkJFOUQ5Mjg5Qjk3OUM2OEQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDQ4RTEwNzhBNDU5MTFFMkJFOUQ5Mjg5Qjk3OUM2OEQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PDs6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQAAAAAACwAAAAAEAAKAAACC4SPqcvtD6OctK4CADs="},
scrollTimer:!1,__preventEvent:!0,__viewportHeight:0,__viewportWidth:0,__basket:[],__book:[],setConfig:function(a){var b=this.config,c;for(c in a)b[c]=void 0===b[c]?a[c]:b[c];b.DPR=b.retinaSupport&&1<window.devicePixelRatio?window.devicePixelRatio:1;return b},touch:function(){this.config=this.setConfig(this.defaults);this.config.autoStart&&this.init()},init:function(){var a=this.config;a.lazyLoad&&window.addEventListener("scroll",function(){d.setShowBooks()});a.autoReload&&this.addMQListener();this.refresh()},
refresh:function(){this.__basket=[];this.register(e)},register:function(a){a=a.getElementsByTagName("img");for(var b=a.length;b--;){var c=a[b].getAttribute("data-src"),d=a[b].src;if(null!==c){a[b]._file=c.split(/(?:\.([^.]+))?$/);var c=f(a[b],"minHeight"),e=f(a[b],"minWidth");a[b].style.minHeight=1>parseFloat(c)?this.config.minHeight+"px":c;a[b].style.minWidth=1>parseFloat(e)?this.config.minWidth+"px":e;a[b].src=""===d?this.config.alterImg:d;a[b].style.opacity=0.2;this.__basket.push(a[b])}}this.addBooks(!0)},
resetBooks:function(){this.__book=[];this.__preventEvent=this.__preventEvent?!1:!0;this.addBooks(this.__preventEvent)},addBooks:function(a){if(a){for(a=this.__basket.length;a--;){var b=this.__basket[a],c,d,e;c=f(b,"width",!0);d=f(b,"height",!0);e=f(b,"display");(void 0===b._width||void 0===b._height||c>b._width||d>b._height)&&"none"!==e&&(b.position=b.getBoundingClientRect(),b._width=c,b._height=d,this.__book.push(b))}this.showBooks()}},showBooks:function(){var a="showElement";this.config.lazyLoad&&
(this.__viewportHeight=Math.min(document.body.clientHeight,document.documentElement.clientHeight),this.__viewportWidth=Math.min(document.body.clientWidth,document.documentElement.clientWidth),a="checkPosition",this.bodyRect=document.body.getBoundingClientRect());for(var b=0;b<=this.__book.length-1;b++)if(void 0!==this.__book[b])this[a](this.__book[b])},checkPosition:function(a){var b=a.position,c=this.bodyRect;a.style.webkitTransition="opacity ease 0.6s";a.style.MozTransition="opacity ease 0.6s";
a.style.msTransition="opacity ease 0.6s";a.style.OTransition="opacity ease 0.6s";a.style.transition="opacity ease 0.6s";b.top+c.top<=this.__viewportHeight&&b.left+c.left<=this.__viewportWidth&&this.showElement(a)},showElement:function(a){var b=this.config.requestType,c=a._file,e=Math.ceil(this.config.DPR*a._width),f=Math.ceil(this.config.DPR*a._height),b=b.replace("%f",c[0]).replace("%w",e).replace("%h",f).replace("%e",c[1]);a.src!==b&&(a.src=b,a.addEventListener("load",function(){d.setAttribute(this)}),
a.addEventListener("error",function(b){console.log(b.status+"Can't load - "+this._file[0]+"."+this._file[1]);b=d.__book.indexOf(a);0<=b&&d.__book.splice(b,1)}))},setAttribute:function(a){a.style.opacity=1;this.__basket.indexOf(a);a=this.__book.indexOf(a);0<=a&&this.__book.splice(a,1)},addMQListener:function(){for(var a=document.styleSheets,b=a.length;b--;)for(var c=a[b].cssRules,e=c.length;e--;)void 0!==c[e].media&&(eventObject=this["mediaQuery"+e]=window.matchMedia(c[e].media.mediaText),eventObject.addListener(function(){d.resetBooks()}))},
setShowBooks:function(){this.__book.length&&(clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(function(){d.showBooks()},150))}};g.mob=d;window.addEventListener("load",function(){d.touch()})})(this);